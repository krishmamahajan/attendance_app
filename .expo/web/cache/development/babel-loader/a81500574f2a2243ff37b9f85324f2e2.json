{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Krishma_other_pc\\\\react-native_attendance_app\\\\App\\\\Screens\\\\Teacher\\\\Genrate_QR_Teacher.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Button, Title } from \"react-native-paper\";\nimport QRCode from \"react-qr-code\";\nimport { Body, Header, Icon, Left, Right, DatePicker } from \"native-base\";\nimport Loader from \"../Admin/QR_Loader\";\nimport axios from \"axios\";\nimport DateTimePicker from \"react-native-modal-datetime-picker\";\nimport moment from \"moment\";\nimport HeaderComp from \"../Header\";\nexport default function qrgenerater(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showDate = _useState2[0],\n      setDate = _useState2[1];\n\n  var mode = \"datetime\";\n  var displayFormat = \"DD/MM/YYYY hh:mm:ss\";\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      value = _useState8[0],\n      setDatetime = _useState8[1];\n\n  var _useState9 = useState(\"Class\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      class_name = _useState10[0],\n      setClassname = _useState10[1];\n\n  var _useState11 = useState(\"Subject\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      subject = _useState12[0],\n      setSubject = _useState12[1];\n\n  var _useState13 = useState(\"Section\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      section = _useState14[0],\n      setSection = _useState14[1];\n\n  AsyncStorage.getItem(\"user\").then(function (data) {\n    setName(data);\n  });\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      classes = _useState16[0],\n      setClasses = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      subjects = _useState18[0],\n      setSubjects = _useState18[1];\n\n  useEffect(function () {\n    getClasses();\n    getSubjects();\n  }, []);\n\n  var getClasses = function getClasses() {\n    axios.post(\"http://krishma.webcodice.com/react-native/axios.php\", {\n      request: 11\n    }).then(function (response) {\n      setClasses(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var getSubjects = function getSubjects() {\n    axios.post(\"http://krishma.webcodice.com/react-native/axios.php\", {\n      request: 14\n    }).then(function (response) {\n      setSubjects(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var showDateTimePicker = function showDateTimePicker() {\n    setDate(true);\n  };\n\n  var hideDateTimePicker = function hideDateTimePicker() {\n    setDate(false);\n  };\n\n  var handleDatePicked = function handleDatePicked(value) {\n    setDatetime(value);\n    hideDateTimePicker();\n  };\n\n  if ({\n    name: name\n  } == \"\") {}\n\n  var logout = function logout() {\n    AsyncStorage.setItem(\"user\", \"\");\n  };\n\n  var submit = function submit() {\n    setLoading(true);\n\n    if (class_name == \"\" || class_name == \"Class\") {\n      Alert.alert(\"PLease Select Class\");\n      setLoading(false);\n    } else if (subject == \"\" || subject == \"Subject\") {\n      Alert.alert(\"PLease Select Subject\");\n      setLoading(false);\n    } else if (section == \"\" || section == \"Section\") {\n      Alert.alert(\"PLease Select Setion\");\n      setLoading(false);\n    } else if (value == \"\") {\n      Alert.alert(\"PLease Select Date\");\n      setLoading(false);\n    } else {\n      axios.post(\"http://krishma.webcodice.com/react-native/axios.php\", {\n        request: 15,\n        teacher: name,\n        class_name: class_name,\n        section: section,\n        subject: subject,\n        date_time: value\n      }).then(function (response) {\n        setLoading(false);\n        alert(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, React.createElement(HeaderComp, {\n    navigation: navigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }), React.createElement(SafeAreaView, {\n    style: styles.content,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    style: styles.scroll,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.welcome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"Welcome\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \" \", name, \" \")), React.createElement(Loader, {\n    loading: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), React.createElement(View, {\n    style: styles.content,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, React.createElement(Title, {\n    style: {\n      alignItems: \"center\",\n      margin: 10,\n      fontSize: 24\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"Generate QR Code\"), React.createElement(View, {\n    style: {\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, React.createElement(QRCode, {\n    value: name + class_name + section + subject + value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  })), React.createElement(Text, {\n    style: styles.labelstyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, \"Select Class: \"), React.createElement(Picker, {\n    style: styles.pickerstyle,\n    theme: mytheme,\n    selectedValue: class_name,\n    onValueChange: function onValueChange(itemValue) {\n      return setClassname(itemValue);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, React.createElement(Picker.Item, {\n    label: \"Select Class\",\n    value: \"Class\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }), classes.map(function (x) {\n    return React.createElement(Picker.Item, {\n      key: x.class_id,\n      label: x.class_name,\n      value: x.class_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    });\n  })), React.createElement(Text, {\n    style: styles.labelstyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, \"Select Section: \"), React.createElement(Picker, {\n    style: styles.pickerstyle,\n    theme: mytheme,\n    selectedValue: section,\n    onValueChange: function onValueChange(itemValue) {\n      return setSection(itemValue);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, React.createElement(Picker.Item, {\n    label: \"Select Section\",\n    value: \"Section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"A\",\n    value: \"A\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"B\",\n    value: \"B\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"C\",\n    value: \"C\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"D\",\n    value: \"D\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"E\",\n    value: \"E\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  })), React.createElement(Text, {\n    style: styles.labelstyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, \"Select Subject: \"), React.createElement(Picker, {\n    style: styles.pickerstyle,\n    theme: mytheme,\n    selectedValue: subject,\n    onValueChange: function onValueChange(itemValue) {\n      return setSubject(itemValue);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, React.createElement(Picker.Item, {\n    label: \"Select Subject\",\n    value: \"Subject\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }), subjects.map(function (x) {\n    return React.createElement(Picker.Item, {\n      key: x.subject_id,\n      label: x.subject_name,\n      value: x.subject_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    });\n  })), React.createElement(Text, {\n    style: styles.labelstyle,\n    theme: mytheme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, \"Select Date:\", \" \"), React.createElement(Text, {\n    style: styles.textstyle,\n    onPress: function onPress() {\n      return showDateTimePicker();\n    },\n    theme: mytheme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, value ? moment(value).format(displayFormat) : \"Select Date\"), React.createElement(DateTimePicker, {\n    date: value ? new Date(value) : new Date(),\n    theme: mytheme,\n    isVisible: showDate,\n    mode: mode,\n    onConfirm: handleDatePicked,\n    onCancel: function onCancel() {\n      return hideDateTimePicker();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: {\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    style: styles.button,\n    mode: \"contained\",\n    onPress: function onPress() {\n      return submit();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }, \"Generate QR\"))))));\n}\nvar mytheme = {\n  colors: {\n    primary: \"#05c5f5\"\n  }\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  pickerstyle: {\n    margin: 5,\n    padding: 15,\n    borderRadius: 5,\n    borderColor: \"grey\",\n    borderWidth: 1,\n    color: \"grey\",\n    backgroundColor: \"#f2f2f2\"\n  },\n  content: {\n    flex: 1,\n    marginHorizontal: 20\n  },\n  scroll: {\n    width: \"100%\"\n  },\n  labelstyle: {\n    margin: 10,\n    fontSize: 22\n  },\n  button: {\n    width: \"60%\",\n    paddingTop: 8,\n    marginTop: 10,\n    paddingBottom: 8,\n    backgroundColor: \"#006aff\",\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  textstyle: {\n    margin: 5,\n    padding: 15,\n    borderRadius: 5,\n    borderColor: \"grey\",\n    borderWidth: 1,\n    color: \"grey\",\n    backgroundColor: \"#f2f2f2\"\n  },\n  welcome: {\n    fontSize: 20,\n    textAlign: \"center\",\n    margin: 10,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"sources":["D:/Krishma_other_pc/react-native_attendance_app/App/Screens/Teacher/Genrate_QR_Teacher.jsx"],"names":["React","useState","useEffect","Button","Title","QRCode","Body","Header","Icon","Left","Right","DatePicker","Loader","axios","DateTimePicker","moment","HeaderComp","qrgenerater","navigation","showDate","setDate","mode","displayFormat","loading","setLoading","name","setName","value","setDatetime","class_name","setClassname","subject","setSubject","section","setSection","AsyncStorage","getItem","then","data","classes","setClasses","subjects","setSubjects","getClasses","getSubjects","post","request","response","catch","error","console","log","showDateTimePicker","hideDateTimePicker","handleDatePicked","logout","setItem","submit","Alert","alert","teacher","date_time","styles","container","content","scroll","welcome","alignItems","margin","fontSize","labelstyle","pickerstyle","mytheme","itemValue","map","x","class_id","subject_id","subject_name","textstyle","format","Date","button","colors","primary","StyleSheet","create","flex","padding","borderRadius","borderColor","borderWidth","color","backgroundColor","marginHorizontal","width","paddingTop","marginTop","paddingBottom","marginBottom","textAlign","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  View,\n  Picker,\n  StyleSheet,\n  SafeAreaView,\n  ScrollView,\n  Text,\n  AsyncStorage,\n  Alert,\n} from \"react-native\";\nimport { Button, Title } from \"react-native-paper\";\nimport QRCode from \"react-qr-code\";\nimport { Body, Header, Icon, Left, Right, DatePicker } from \"native-base\";\nimport Loader from \"../Admin/QR_Loader\";\nimport axios from \"axios\";\nimport DateTimePicker from \"react-native-modal-datetime-picker\";\nimport moment from \"moment\";\nimport HeaderComp from \"../Header\";\n\nexport default function qrgenerater({ navigation }) {\n  const [showDate, setDate] = useState(false);\n\n  // const value = '';\n  const mode = \"datetime\";\n  const displayFormat = \"DD/MM/YYYY hh:mm:ss\";\n\n  let [loading, setLoading] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [value, setDatetime] = useState(\"\");\n  const [class_name, setClassname] = useState(\"Class\");\n  const [subject, setSubject] = useState(\"Subject\");\n  const [section, setSection] = useState(\"Section\");\n  // const [showdate, showDate] = useState(false);\n  AsyncStorage.getItem(\"user\").then((data) => {\n    // let user = data;\n    setName(data);\n  });\n\n  let [classes, setClasses] = useState([]);\n  let [subjects, setSubjects] = useState([]);\n  useEffect(() => {\n    getClasses();\n    getSubjects();\n  }, []);\n\n  const getClasses = () => {\n    axios\n      .post(\"http://krishma.webcodice.com/react-native/axios.php\", {\n        request: 11,\n      })\n      .then((response) => {\n        setClasses(response.data);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  const getSubjects = () => {\n    axios\n      .post(\"http://krishma.webcodice.com/react-native/axios.php\", {\n        request: 14,\n      })\n      .then((response) => {\n        setSubjects(response.data);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  const showDateTimePicker = () => {\n    //alert('showDateTimePicker');\n    setDate(true);\n\n    // Keyboard.dismiss();\n  };\n\n  const hideDateTimePicker = () => {\n    setDate(false);\n  };\n\n  const handleDatePicked = (value) => {\n    setDatetime(value);\n    hideDateTimePicker();\n  };\n\n  if ({ name } == \"\") {\n    // Actions.login();\n  }\n\n  const logout = () => {\n    AsyncStorage.setItem(\"user\", \"\");\n    // Actions.login();\n  };\n\n  const submit = () => {\n    setLoading(true);\n    if (class_name == \"\" || class_name == \"Class\") {\n      Alert.alert(\"PLease Select Class\");\n      setLoading(false);\n    } else if (subject == \"\" || subject == \"Subject\") {\n      Alert.alert(\"PLease Select Subject\");\n      setLoading(false);\n    } else if (section == \"\" || section == \"Section\") {\n      Alert.alert(\"PLease Select Setion\");\n      setLoading(false);\n    } else if (value == \"\") {\n      Alert.alert(\"PLease Select Date\");\n      setLoading(false);\n    } else {\n      axios\n        .post(\"http://krishma.webcodice.com/react-native/axios.php\", {\n          request: 15,\n          teacher: name,\n          class_name: class_name,\n          section: section,\n          subject: subject,\n          date_time: value,\n        })\n        .then(function (response) {\n          setLoading(false);\n          alert(response.data);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n      // Alert.alert(`Class : ${class_name} Subject : ${subject} Date: ${value}` );\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <HeaderComp navigation={navigation} />\n      <SafeAreaView style={styles.content}>\n        <ScrollView style={styles.scroll}>\n          <Text style={styles.welcome}>\n            <Text>Welcome</Text>\n            <Text> {name} </Text>\n          </Text>\n          <Loader loading={loading} />\n\n          <View style={styles.content}>\n            <Title style={{ alignItems: \"center\", margin: 10, fontSize: 24 }}>\n              Generate QR Code\n            </Title>\n            <View style={{ alignItems: \"center\" }}>\n              <QRCode value={name + class_name + section + subject + value} />\n            </View>\n\n            <Text style={styles.labelstyle}>Select Class: </Text>\n            <Picker\n              style={styles.pickerstyle}\n              theme={mytheme}\n              selectedValue={class_name}\n              onValueChange={(itemValue) => setClassname(itemValue)}\n            >\n              <Picker.Item label=\"Select Class\" value=\"Class\" />\n\n              {classes.map((x) => (\n                <Picker.Item\n                  key={x.class_id}\n                  label={x.class_name}\n                  value={x.class_name}\n                />\n              ))}\n            </Picker>\n            <Text style={styles.labelstyle}>Select Section: </Text>\n            <Picker\n              style={styles.pickerstyle}\n              theme={mytheme}\n              selectedValue={section}\n              onValueChange={(itemValue) => setSection(itemValue)}\n            >\n              <Picker.Item label=\"Select Section\" value=\"Section\" />\n              <Picker.Item label=\"A\" value=\"A\" />\n              <Picker.Item label=\"B\" value=\"B\" />\n              <Picker.Item label=\"C\" value=\"C\" />\n              <Picker.Item label=\"D\" value=\"D\" />\n              <Picker.Item label=\"E\" value=\"E\" />\n            </Picker>\n            <Text style={styles.labelstyle}>Select Subject: </Text>\n            <Picker\n              style={styles.pickerstyle}\n              theme={mytheme}\n              selectedValue={subject}\n              onValueChange={(itemValue) => setSubject(itemValue)}\n            >\n              <Picker.Item label=\"Select Subject\" value=\"Subject\" />\n\n              {subjects.map((x) => (\n                <Picker.Item\n                  key={x.subject_id}\n                  label={x.subject_name}\n                  value={x.subject_name}\n                />\n              ))}\n            </Picker>\n            <Text style={styles.labelstyle} theme={mytheme}>\n              Select Date:{\" \"}\n            </Text>\n            <Text\n              style={styles.textstyle}\n              onPress={() => showDateTimePicker()}\n              theme={mytheme}\n            >\n              {value ? moment(value).format(displayFormat) : \"Select Date\"}\n            </Text>\n            <DateTimePicker\n              date={value ? new Date(value) : new Date()}\n              theme={mytheme}\n              isVisible={showDate}\n              mode={mode}\n              onConfirm={handleDatePicked}\n              onCancel={() => hideDateTimePicker()}\n            />\n            <View style={{ alignItems: \"center\" }}>\n              <Button\n                style={styles.button}\n                mode=\"contained\"\n                onPress={() => submit()}\n              >\n                Generate QR\n              </Button>\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n    </View>\n  );\n}\n\nconst mytheme = {\n  colors: {\n    primary: \"#05c5f5\",\n  },\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  pickerstyle: {\n    margin: 5,\n    padding: 15,\n    borderRadius: 5,\n    borderColor: \"grey\",\n    borderWidth: 1,\n    color: \"grey\",\n    backgroundColor: \"#f2f2f2\",\n  },\n  content: {\n    flex: 1,\n    marginHorizontal: 20,\n  },\n  scroll: {\n    width: \"100%\",\n  },\n  labelstyle: {\n    margin: 10,\n    fontSize: 22,\n  },\n  button: {\n    width: \"60%\",\n    paddingTop: 8,\n    marginTop: 10,\n    paddingBottom: 8,\n    backgroundColor: \"#006aff\",\n    marginBottom: 20,\n    alignItems: \"center\",\n  },\n  textstyle: {\n    margin: 5,\n    padding: 15,\n    borderRadius: 5,\n    borderColor: \"grey\",\n    borderWidth: 1,\n    color: \"grey\",\n    backgroundColor: \"#f2f2f2\",\n  },\n  welcome: {\n    fontSize: 20,\n    textAlign: \"center\",\n    margin: 10,\n    fontWeight: \"bold\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}